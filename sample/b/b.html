<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script>
    function onAlreadyHaveHash(url) {
      if(url) {
        showContent(url)
      }
    }
    function showContent(src) {
      top.updateUrl('mpod_b_content', src)
    }
    function onUpdateUrl(url) {
      if(url.indexOf('b/b.html') !== -1) {
        document.getElementById('menu').style.width = '10px';
      } else {
        document.getElementById('menu').style.width = '17%';
      }
    }
    function test() {
      console.log("im is B")

      top.getProjectWindow('mpod_c_content')['abc']
      var a = top.getProjectWindow('mpod_c_content')['fn'](123)
      console.log(a)
    }
    function setProjectState(key, value) {
      console.log('b setProjectState:', key, value)
      switch(key) {
        case 'abc': 
          if(value === 1) {
            console.log('1')
          }
        case 'ddd': 
          if(value == 2) {
            //...
          }
      }
    }
    function init() {
      if(top.urls['mpod_b_content']) {
        top.updateUrl('mpod_b_content', top.urls['mpod_b_content'])
      } else {
        top.updateUrl('mpod_b_content', 'dist/index.html#/AAA')
      }
    }
    function onLoaded() {
      top.setIframeStyle(window.mpodId, {
        height: '800px'
      })
    }
  </script>
  <style>
  </style>
</head>
<body style="background: red;" onload="init()">
  <ul id="menu" style="width: 17%; float: left; background: greenyellow;">
      <li onclick="showContent('dist/index.html#/AAA')">e</li>
      <li onclick="showContent('f/f.html')">f</li>
      <li onclick="showContent('g/g.html')">g</li>
      <li onclick="showContent('d/d.html')">d(菜单收缩)</li>
    </ul>
    <iframe src="../dist/index.html#/AAA" id="mpod_b_content" onload="top.registerProject(this)" frameborder="0" height="100%" width="80%" style="float: right;"></iframe>
</body>
</html>